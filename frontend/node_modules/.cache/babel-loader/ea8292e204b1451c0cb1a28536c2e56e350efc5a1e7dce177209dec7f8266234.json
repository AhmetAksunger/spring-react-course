{"ast":null,"code":"import _slicedToArray from\"C:/Users/90538/Desktop/spring-react-course/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from\"../assets/hoaxify.png\";import{Link}from'react-router-dom/cjs/react-router-dom.min';import{useTranslation}from'react-i18next';//import { Authentication } from '../shared/AuthenticationContext';\nimport{useDispatch,useSelector}from'react-redux';import{logoutSuccess}from'../redux/authActions';import{clearAuthorizationHeader,logout}from\"../api/apiCalls\";import DropdownMenu from\"./DropdownMenu\";import ProfileImageWithDefault from\"./ProfileImageWithDefault\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TopBar=function TopBar(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuVisible=_useState2[0],setMenuVisible=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var dispatch=useDispatch();var _useSelector=useSelector(function(store){return{isLoggedIn:store.isLoggedIn,username:store.username,displayName:store.displayName,image:store.image,token:store.token};}),isLoggedIn=_useSelector.isLoggedIn,username=_useSelector.username,displayName=_useSelector.displayName,image=_useSelector.image,token=_useSelector.token;var onClickLogout=function onClickLogout(){try{dispatch(logoutSuccess());setMenuVisible(false);logout(token);}catch(error){}};var onClickMyProfile=function onClickMyProfile(){setMenuVisible(false);};//const cannot be reassigned once assigned\n//we should use let\nvar links=/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"text-white\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:t(\"Login\")})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-white\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link me-5\",to:\"/signup\",children:t(\"Sign up\")})})]});if(isLoggedIn){links=/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ms-auto\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",style:{cursor:\"pointer\"},onClick:function onClick(){setMenuVisible(!menuVisible);},children:[/*#__PURE__*/_jsx(ProfileImageWithDefault,{image:image,width:\"32\",height:\"32\"}),/*#__PURE__*/_jsx(\"span\",{className:\"nav-link text-white dropdown-toggle me-5\",children:displayName})]}),/*#__PURE__*/_jsxs(\"div\",{className:menuVisible?\"dropdown-menu show shadow p-0\":\"dropdown-menu shadow p-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined\",children:\"person\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"/user/\"+username,onClick:onClickMyProfile,children:t(\"My Profile\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined text-danger\",children:\"logout\"}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item me-5\",to:\"/login\",onClick:onClickLogout,children:t(\"Logout\")})]})]})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light mb-2\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-dark navbar-expand bg-primary shadow\",children:[/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand\",to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,width:\"60\"}),\"Hoaxify\"]}),links]})});};export default TopBar;","map":{"version":3,"names":["logo","Link","useTranslation","useDispatch","useSelector","logoutSuccess","clearAuthorizationHeader","logout","DropdownMenu","ProfileImageWithDefault","useState","jsx","_jsx","jsxs","_jsxs","TopBar","props","_useState","_useState2","_slicedToArray","menuVisible","setMenuVisible","_useTranslation","t","dispatch","_useSelector","store","isLoggedIn","username","displayName","image","token","onClickLogout","error","onClickMyProfile","links","className","children","to","style","cursor","onClick","width","height","class","src"],"sources":["C:/Users/90538/Desktop/spring-react-course/frontend/src/components/TopBar.js"],"sourcesContent":["import logo from \"../assets/hoaxify.png\";\r\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { useTranslation} from 'react-i18next';\r\n//import { Authentication } from '../shared/AuthenticationContext';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutSuccess } from '../redux/authActions';\r\nimport { clearAuthorizationHeader, logout } from \"../api/apiCalls\";\r\nimport DropdownMenu from \"./DropdownMenu\";\r\nimport ProfileImageWithDefault from \"./ProfileImageWithDefault\";\r\nimport { useState } from \"react\";\r\n\r\nconst TopBar = (props) => {\r\n\r\n    const [menuVisible,setMenuVisible] = useState(false);\r\n    const {t} = useTranslation();\r\n    const dispatch = useDispatch();\r\n    const { isLoggedIn, username, displayName, image, token} = useSelector((store) => {\r\n        return {\r\n            isLoggedIn: store.isLoggedIn,\r\n            username: store.username,\r\n            displayName: store.displayName,\r\n            image: store.image,\r\n            token: store.token\r\n        };\r\n    });\r\n\r\n    const onClickLogout = () => {\r\n        try {\r\n            dispatch(logoutSuccess())\r\n            setMenuVisible(false)   \r\n            logout(token);\r\n        } catch (error) {\r\n            \r\n        }\r\n    }\r\n\r\n    const onClickMyProfile = () => {\r\n        setMenuVisible(false);\r\n    }\r\n    \r\n    //const cannot be reassigned once assigned\r\n    //we should use let\r\n    let links = (\r\n        <ul className='navbar-nav ms-auto'>\r\n        <li className='text-white'>\r\n            <Link className=\"nav-link\" to=\"/login\">\r\n            {t(\"Login\")}\r\n            </Link>\r\n        </li>\r\n        <li className='text-white'>\r\n            <Link className=\"nav-link me-5\" to=\"/signup\">\r\n            {t(\"Sign up\")}\r\n            </Link>\r\n        </li>\r\n    </ul>\r\n    );\r\n\r\n    if (isLoggedIn) {\r\n        links = (\r\n        <ul className='navbar-nav ms-auto'>\r\n            <li className=\"nav-item dropdown\">\r\n                <div className=\"d-flex align-items-center\" style={{cursor: \"pointer\"}} onClick={() => {setMenuVisible(!menuVisible)}}>\r\n                    <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" />\r\n                    <span className='nav-link text-white dropdown-toggle me-5'>{displayName}</span>\r\n                </div>\r\n                <div className={menuVisible ? \"dropdown-menu show shadow p-0\" : \"dropdown-menu shadow p-0\"}>\r\n                    <div className=\"d-flex align-items-center\">\r\n                        <span class=\"material-symbols-outlined\">\r\n                        person\r\n                        </span>\r\n                        <Link className=\"dropdown-item\" to={\"/user/\" + username} onClick={onClickMyProfile}>\r\n                        {t(\"My Profile\")}\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"d-flex align-items-center\">\r\n                        <span class=\"material-symbols-outlined text-danger\">\r\n                        logout\r\n                        </span>\r\n                        <Link className=\"dropdown-item me-5\" to=\"/login\" onClick={onClickLogout}>\r\n                        {t(\"Logout\")}\r\n                        </Link>\r\n                    </div>\r\n\r\n                </div>\r\n            </li>\r\n        </ul>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className='bg-light mb-2'>\r\n            <nav className=\"navbar navbar-dark navbar-expand bg-primary shadow\">\r\n                <Link className=\"navbar-brand\" to=\"/\">\r\n                    <img src={logo} width=\"60\"/>\r\n                    Hoaxify\r\n                </Link>\r\n\r\n                {links}\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default TopBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}